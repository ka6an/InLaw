jQuery(document).ready(function($){jQuery('.desktop').hide(0);jQuery('.mobile').show(0);$('#menu').click(function(event){event.preventDefault();$('#header').toggleClass('open');if($('#header-common')!=null)
$('#header-common').toggleClass('open');});$('#subMenu__title').click(function(event){event.preventDefault();$('#subMenu').toggleClass('open');$(this).toggleClass('active');});$('.header__btn').click(function(event){event.preventDefault();toggleModal();});if(document.documentElement.clientWidth>1024){checkWindowWidht();$(window).resize(function(){checkWindowWidht();});$('.header__link').on('mouseenter mouseleave',function(){if($(this).hasClass('header-servises-link')==false)
$(this).toggleClass('hovered');});$('.header-servises-link').on('mouseenter mouseleave',function(){$('.header-services-subMenu').addClass('open');$(this).addClass('hovered');});$('.header-servises-link').on('mouseleave',function(e){var nextEl=e.relatedTarget;if($(nextEl).hasClass('services-subMenu__link')==false){$('.header-services-subMenu').removeClass('open');$(this).removeClass('hovered');}});$('.header-services-subMenu').on('mouseenter mouseleave',function(e){var nextEl=e.toElement;if(e.type=='mouseleave'&&$(nextEl).hasClass('header-servises-link')==false){$('.header-servises-link').toggleClass('hovered');$(this).toggleClass('open');}});defineActiveLink();fixedMenu();var $window=$(window);$window.on('scroll resize',check_if_in_view);$window.trigger('scroll');$('.form__phone').inputmask("+79999999999");}});function checkWindowWidht(){if(document.documentElement.clientWidth<1024){jQuery('.desktop').hide(0);jQuery('.mobile').show(0);}else{jQuery('.desktop').show(0);jQuery('.mobile').hide(0);}}
jQuery(window).scroll(function(){fixedMenu();})
function fixedMenu(){var top=jQuery(this).scrollTop();if(top>0)
jQuery('#header').removeClass('main-page');else
jQuery('#header').addClass('main-page');}
function toggleModal(){jQuery('.modal-window').toggleClass('open');jQuery('body').toggleClass('no-scroll');jQuery('#form-modal').show(0);jQuery('.modal-body').removeClass('modal-body_send');}
function defineActiveLink(){var curPath=window.location.pathname,headerLink=jQuery('.header__link');headerLink.each(function(i,el){var headerLinkHref=jQuery(el).attr('href');if(headerLinkHref!=null){if(curPath.includes(headerLinkHref)&&headerLinkHref!=='/'){jQuery(el).addClass('active');}
if(curPath==='/'&&headerLinkHref==='/'){jQuery(el).eq(0).addClass('active');}}else if(curPath.includes('service')){jQuery('.header-servises-link').eq(0).addClass('active');}});}
function check_if_in_view(){var $window=jQuery(window),window_height=$window.height(),window_top_position=$window.scrollTop(),window_bottom_position=(window_top_position+window_height),$animation_elements=jQuery('.animation-element');if(document.documentElement.clientWidth>1024){jQuery.each($animation_elements,function(){var $element=jQuery(this),element_height=$element.outerHeight(),element_top_position=$element.offset().top+100,element_bottom_position=(element_top_position+element_height);if((element_bottom_position>=window_top_position)&&(element_top_position<=window_bottom_position)){$element.addClass('in-view');}else{$element.removeClass('in-view');}});}}
jQuery("#form").submit(function(e){e.preventDefault();var form_data=jQuery(this).serialize();jQuery.ajax({type:"POST",url:"/send.php",data:form_data,success:function(){jQuery('#form').hide(0);jQuery('#form').trigger('reset');jQuery('.feedback').addClass('feedback_send');dataLayer.push({'event':'formsend'});}});});jQuery("#form-modal").submit(function(e){e.preventDefault();var form_data=jQuery(this).serialize();jQuery.ajax({type:"POST",url:"/send.php",data:form_data,success:function(){jQuery('#form-modal').hide(0);jQuery('#form-modal').trigger('reset');jQuery('.modal-body').addClass('modal-body_send');dataLayer.push({'event':'formsend'});}});});ymaps.ready(init);function init(){if(document.getElementById('map')!=null){var myMap=new ymaps.Map('map',{center:[59.957726,30.298478],zoom:15},{searchControlProvider:'yandex#search'}),MyIconContentLayout=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),myPlacemark=new ymaps.Placemark(myMap.getCenter(),{hintContent:'"In Law"',balloonContent:'Большой пр. П.С., д. 32, БЦ "Ината", 2-й этаж'},{iconLayout:'default#image',iconImageHref:'/wp-content/themes/inlaw/img/contact-loc.svg',iconImageSize:[30,42]});myMap.geoObjects.add(myPlacemark);}}